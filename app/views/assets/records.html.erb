<h1>School Records</h1>

<!-- I was lazy and reused the classes from athletes/show.html.erb -->
<ul class="event-list group">
	<li class="event-list-item" data-table-name="women-indoor">Indoors - Women</li>
	<li class="event-list-item" data-table-name="men-indoor">Indoors - Men</li>
	<li class="event-list-item" data-table-name="women-outdoor">Outdoors - Women</li>
	<li class="event-list-item" data-table-name="men-outdoor">Outdoors - Men</li>
</ul>

<%= render "records_table", title: "Indoor Records - Women", recs: @women_indoor, gender: :women, season: :indoor, invisible: false, table_class: "women-indoor" %>

<%= render "records_table", title: "Indoor Records - Men", recs: @men_indoor, gender: :men, season: :indoor, invisible: true, table_class: "men-indoor" %>

<%= render "records_table", title: "Outdoor Records - Women", recs: @women_outdoor, gender: :women, season: :outdoor, invisible: true, table_class: "women-outdoor" %>

<%= render "records_table", title: "Outdoor Records - Men", recs: @men_outdoor, gender: :men, season: :outdoor, invisible: true, table_class: "men-outdoor" %>

<script>
	$(function () {
		var currentGraph = $($(".records").not(".records-hidden")[0]);
		
		$(".event-list-item").on("click", function (event) {
			var tableName = $(event.target).data("table-name");
			
			currentGraph.toggleClass("records-hidden");
			$("." + tableName).toggleClass("records-hidden");
			currentGraph = $("." + tableName);
		});
		
	});
</script>